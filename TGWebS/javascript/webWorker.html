<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
    <title>JS Foreach</title>
</head>
<body>
    <div id="d1">

    </div>

    <script type="text/javascript">
        onload = function () {
            var worker = new Worker('fibonacci.js');
            worker.addEventListener('message', function (event) {
                var timer2 = (new Date()).valueOf();
                console.log('结果：' + event.data, '时间:' + timer2, '用时：' + (timer2 - timer));
            }, false);
            var timer = (new Date()).valueOf();
            console.log('开始计算：40', '时间:' + timer);
            setTimeout(function () {
                console.log('定时器函数在计算数列时执行了', '时间:' + (new Date()).valueOf());
            }, 1000);
            worker.postMessage(40);
            console.log('我在计算数列的时候执行了', '时间:' + (new Date()).valueOf());

        }

        //var d1 = document.getElementById('d1');
        //var pr = fibonacci(40);
        //d1.innerHTML = pr;

    </script>
</body>
</html>
